<table class="datatables-basic table border-top dataTable no-footer dtr-column" id="listcategory" role="grid"
    aria-describedby="DataTables_Product_info" style="width: 1209px;">
    <thead>
        <tr role="row">
            <th style="width: 35%">Tên danh mục</th>
            <th style="width: 30%;">Đường dẫn</th>
            <th style="width: 20%;">Vị Trí</th>
            <th style="width: 5%;">Hiển Thị</th>
            <th style="width: 10%;">Chức năng</th>
        </tr>
    </thead>
    <tbody id="list">
        <% let i=0; let
            arrColor=['table-primary','table-danger','table-warning','table-secondary','table-success','table-info'];
            category.cateParent0.forEach(function(cate, i){ %>
            <tr class="<%=arrColor[i%arrColor.length]%>" id="<%= cate._id %>">
                <td>
                    <%= cate.cName %>
                </td>
                <td>
                    /<%= cate.cUrl %>
                </td>
                <td class="position">
                    <button type="button" <% if(i==0){ %>disabled<% } %> onclick="changePosition('<%= cate._id %>','up')"
                                class="btn-List"><i class="bx bx-chevron-up"></i></button>
                    <button type="button" <% if(i==category.cateParent0.length-1){ %> disabled <% }%>
                            onclick="changePosition("<%= cate._id %>",'down')" class="btn-List"><i
                                    class="bx bx-chevron-down"></i></button>
                </td>
                <td>
                    <div class="col-3 text-end">
                        <label class="switch me-0">
                            <input onclick="status('<%= cate._id %>',this)" type="checkbox" class="switch-input" <%
                                if(cate.Status){ %> checked <% } %>>
                                <span class="switch-toggle-slider">
                                    <span class="switch-on">
                                        <i class="bx bx-check"></i>
                                    </span>
                                    <span class="switch-off">
                                        <i class="bx bx-x"></i>
                                    </span>
                                </span>
                                <span class="switch-label"></span>
                        </label>
                    </div>
                </td>
                <td>
                    <div class="d-flex align-items-center">
                        <% if(cate.cAlone==false){ %>
                            <a href="javascript:(0);" onclick="showParentMenu('<%=cate._id%>')"
                                class="btn-List text-body">
                                <i class="bx bx-show mx-1"></i>
                            </a>
                            <% } %>
                                <div class="dropdown">
                                    <a href="javascript:;" class="btn dropdown-toggle hide-arrow text-body p-0"
                                        data-bs-toggle="dropdown"><i class="bx bx-dots-vertical-rounded"></i></a>
                                    <div class="dropdown-menu dropdown-menu-end">
                                        <button onclick="setValueEdit('<%= cate._id %>')" class="dropdown-item"
                                            type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
                                            aria-controls="offcanvasRight">Chỉnh sửa</button>
                                        <button onclick="deletecate(`<%=cate._id%>`)"
                                            class="dropdown-item delete-record text-danger">Xóa</button>
                                    </div>
                                </div>
                    </div>
                </td>
            </tr>
            <% let cateParent=[]; category.cateParentId.forEach(function(cate1, index){ if(cate1.cParentId==cate._id){
                cateParent.push(cate1._id) } }) %>
                <% category.cateParentId.forEach(function(cate1, index){ %>
                    <% if(cate1.cParentId==cate._id){ %>
                        <tr class="listCategories list<%=cate._id%> <%=arrColor[i%arrColor.length]%> fade show">
                            <td>
                                --- <%= cate1.cName %>
                            </td>
                            <td>
                                /<%= cate.cUrl %>/<%= cate1.cUrl %>
                            </td>
                            <td class="position">
                                <% let lastElement=cateParent[cateParent.length - 1]; %>
                                    <button type="button" <% if(cateParent[0]==cate1._id){ %>disabled<% } %>
                                            onclick="changePosition('<%= cate1._id %>','up')"
                                                class="btn-List"><i class="bx bx-chevron-up"></i></button>
                                    <button type="button" <% if(lastElement==cate1._id){ %>disabled<% } %>
                                            onclick="changePosition('<%= cate1._id %>','down')"
                                                class="btn-List"><i class="bx bx-chevron-down"></i></button>
                            </td>
                            <td>
                                <div class="col-3 text-end">
                                    <label class="switch me-0">
                                        <input onclick="status('<%= cate1._id %>',this)" type="checkbox"
                                            class="switch-input" <% if(cate1.Status){ %> checked <% } %>>
                                            <span class="switch-toggle-slider">
                                                <span class="switch-on">
                                                    <i class="bx bx-check"></i>
                                                </span>
                                                <span class="switch-off">
                                                    <i class="bx bx-x"></i>
                                                </span>
                                            </span>
                                            <span class="switch-label"></span>
                                    </label>
                                </div>
                            </td>
                            <td class="text-center">
                                <div class="d-flex align-items-center">
                                    <div class="dropdown">
                                        <a href="javascript:;" class="btn dropdown-toggle hide-arrow text-body p-0"
                                            data-bs-toggle="dropdown"><i class="bx bx-dots-vertical-rounded"></i></a>
                                        <div class="dropdown-menu dropdown-menu-end">
                                            <button onclick="setValueEdit('<%= cate1._id %>')" class="dropdown-item"
                                                type="button" data-bs-toggle="offcanvas"
                                                data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">Chỉnh
                                                sửa</button>
                                            <button onclick="deletecate(`<%=cate1._id%>`)"
                                                class="dropdown-item delete-record text-danger">Xóa</button>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <% } %>
                            <% }) %>
                                <% }) %>
    </tbody>
</table>